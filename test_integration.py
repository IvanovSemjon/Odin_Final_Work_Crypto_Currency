# -*- coding: utf-8 -*-
"""
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –†–∞–±–æ—Ç—É —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫—É –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç unit-—Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—è —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ
"""

import unittest
from unittest.mock import patch, MagicMock
import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –º–æ–¥—É–ª—é –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
# –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ç–µ—Å—Ç–æ–≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
from crypto_currency import get_crypto_price, cryptocurrencies, fiat_currencies


class TestIntegration(unittest.TestCase):
    """
    –ö–ª–∞—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    
    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
    —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ, –∞ –Ω–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
    """
    
    @patch('crypto_currency.requests.get')
    def test_full_conversion_workflow(self, mock_get):
        """
        –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞
        
        –≠—Ç–æ—Ç —Ç–µ—Å—Ç –∏–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
        1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∏ —Ñ–∏–∞—Ç–Ω—É—é –≤–∞–ª—é—Ç—É
        2. –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É —á–µ—Ä–µ–∑ API
        3. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
        4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É:
        - API-–∑–∞–ø—Ä–æ—Å–∞–º–∏ (get_crypto_price)
        - –û–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
        - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏
        - –í–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        """
        # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º mock –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç CoinGecko API
        mock_response = MagicMock()
        
        # –°–æ–∑–¥–∞–µ–º —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CoinGecko API
        mock_response.json.return_value = {
            "bitcoin": {  # ID –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
                "usd": 50000.0,  # –¶–µ–Ω–∞ –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö
                "usd_market_cap": 1000000000000,  # –†—ã–Ω–æ—á–Ω–∞—è –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è ($1T)
                "usd_24h_vol": 30000000000,  # –û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ –∑–∞ 24—á ($30B)
                "usd_24h_change": 1.5  # –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 24—á (+1.5%)
            }
        }
        # –ò–º–∏—Ç–∏—Ä—É–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ HTTP –æ—à–∏–±–æ–∫
        mock_response.raise_for_status.return_value = None
        mock_get.return_value = mock_response
        
        # –ó–∞–¥–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
        amount = 1000.0  # –°—É–º–º–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (1000 USD)
        crypto_id = "bitcoin"  # ID –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ CoinGecko
        fiat_currency = "usd"  # –ö–æ–¥ —Ñ–∏–∞—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã
        
        # –®–ê–ì 1: –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Ü–µ–Ω–µ —á–µ—Ä–µ–∑ API
        price_data = get_crypto_price(crypto_id, fiat_currency)
        self.assertIsNotNone(price_data, 
                           "API –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ü–µ–Ω–µ")
        
        # –®–ê–ì 2: –ò–∑–≤–ª–µ–∫–∞–µ–º —Ü–µ–Ω—É –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        crypto_price = price_data[crypto_id][fiat_currency]
        
        # –®–ê–ì 3: –í—ã–ø–æ–ª–Ω—è–µ–º —Ä–∞—Å—á–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
        crypto_amount = amount / crypto_price
        
        # –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        self.assertEqual(crypto_price, 50000.0, 
                        "–¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å mock-–¥–∞–Ω–Ω—ã–º")
        self.assertEqual(crypto_amount, 0.02, 
                        "1000 USD / 50000 USD/BTC = 0.02 BTC")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
        self.assertIn("usd_market_cap", price_data[crypto_id], 
                     "–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—É—é –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—é")
        self.assertIn("usd_24h_vol", price_data[crypto_id], 
                     "–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤")
        self.assertIn("usd_24h_change", price_data[crypto_id], 
                     "–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã")
        
        print("‚úì –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ")
    
    def test_multiple_currencies_support(self):
        """
        –¢–µ—Å—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç –∏ –∏—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –∏ —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        
        –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è:
        - –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        - –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        - –ü–æ–∫—Ä—ã—Ç–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä –Ω–∞ –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–∞—Ö
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ:
        - –¢–æ–ø –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –ø–æ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
        - –û—Å–Ω–æ–≤–Ω—ã—Ö –º–∏—Ä–æ–≤—ã—Ö —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç
        - –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–∞–ª—é—Ç (–≤–∫–ª—é—á–∞—è —Ä—É–±–ª—å –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
        """
        # –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç (—Ç–æ–ø –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏)
        required_cryptos = [
            "bitcoin",    # BTC - –ø–µ—Ä–≤–∞—è –∏ –∫—Ä—É–ø–Ω–µ–π—à–∞—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞
            "ethereum",   # ETH - –≤—Ç–æ—Ä–∞—è –ø–æ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è DeFi
            "tether",     # USDT - –∫—Ä—É–ø–Ω–µ–π—à–∏–π —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω
            "solana"      # SOL - –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–ª–æ–∫—á–µ–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
        ]
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–∞–∂–¥–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
        for crypto in required_cryptos:
            self.assertIn(crypto, cryptocurrencies, 
                         f"–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ {crypto} –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ–π")
        
        # –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç (–æ—Å–Ω–æ–≤–Ω—ã–µ –º–∏—Ä–æ–≤—ã–µ + —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
        required_fiats = [
            "usd",  # –î–æ–ª–ª–∞—Ä –°–®–ê - –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞ –º–∏—Ä–∞
            "eur",  # –ï–≤—Ä–æ - –≤–∞–ª—é—Ç–∞ –ï–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Å–æ—é–∑–∞
            "rub",  # –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å - –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            "gbp"   # –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤ - –≤–∞–ª—é—Ç–∞ –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏–∏
        ]
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–∞–∂–¥–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ñ–∏–∞—Ç–Ω–æ–π –≤–∞–ª—é—Ç—ã
        for fiat in required_fiats:
            self.assertIn(fiat, fiat_currencies, 
                         f"–§–∏–∞—Ç–Ω–∞—è –≤–∞–ª—é—Ç–∞ {fiat} –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ–π")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —É–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ
        self.assertGreaterEqual(len(cryptocurrencies), 10, 
                               "–î–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º 10 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç")
        self.assertGreaterEqual(len(fiat_currencies), 15, 
                               "–î–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º 15 —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç")
        
        print("‚úì –¢–µ—Å—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ")
    
    def test_edge_cases(self):
        """
        –¢–µ—Å—Ç –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        
        –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ - —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞ "–∫—Ä–∞—è—Ö" –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π,
        –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        - –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —Å—É–º–º—ã (–º–∏–∫—Ä–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
        - –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—É–º–º—ã (–∫—Ä—É–ø–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏)
        - –í—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
        - –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
        
        –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è:
        - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
        - –ü–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        - –û–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ª—é–±—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        """
        # –¢–ï–°–¢ 1: –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —Å—É–º–º—ã (–º–∏–∫—Ä–æ—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
        # –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –∫—É–ø–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –Ω–∞ 1 —Ü–µ–Ω—Ç
        small_amount = 0.01  # $0.01
        crypto_price = 50000.0  # $50,000 –∑–∞ BTC
        
        crypto_amount = small_amount / crypto_price
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏ –Ω–µ —Ä–∞–≤–µ–Ω –Ω—É–ª—é
        self.assertGreater(crypto_amount, 0, 
                          "–î–∞–∂–µ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —Å—É–º–º—ã –¥–æ–ª–∂–Ω—ã –¥–∞–≤–∞—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —á–∏—Å–µ–ª (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0.0000002 BTC)
        expected_small = 0.0000002
        self.assertAlmostEqual(crypto_amount, expected_small, places=7,
                              msg="–†–∞—Å—á–µ—Ç –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—É–º–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—á–Ω—ã–º")
        
        # –¢–ï–°–¢ 2: –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—É–º–º—ã (–∫—Ä—É–ø–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏)
        # –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω–≤–µ—Å—Ç–æ—Ä –ø–æ–∫—É–ø–∞–µ—Ç –Ω–∞ $1 –º–∏–ª–ª–∏–æ–Ω
        large_amount = 1000000.0  # $1,000,000
        
        crypto_amount_large = large_amount / crypto_price
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å—É–º–º
        self.assertGreater(crypto_amount_large, 0, 
                          "–ë–æ–ª—å—à–∏–µ —Å—É–º–º—ã –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ—á–Ω–æ—Å—Ç—å (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 20 BTC)
        expected_large = 20.0
        self.assertEqual(crypto_amount_large, expected_large,
                        "1,000,000 USD / 50,000 USD/BTC = 20 BTC")
        
        # –¢–ï–°–¢ 3: –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã
        # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏—Ç—É–∞—Ü–∏—é —Å –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π
        extreme_price = 1000000.0  # $1,000,000 –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
        normal_amount = 1000.0     # $1,000
        
        crypto_amount_expensive = normal_amount / extreme_price
        
        self.assertGreater(crypto_amount_expensive, 0,
                          "–í—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ª–æ–º–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã")
        self.assertEqual(crypto_amount_expensive, 0.001,
                        "1,000 USD / 1,000,000 USD/unit = 0.001 unit")
        
        # –¢–ï–°–¢ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ —Ç–æ—á–Ω–æ—Å—Ç—å
        # –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ Python –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞
        huge_amount = 999999999.99
        reasonable_price = 45000.0
        
        result = huge_amount / reasonable_price
        self.assertIsInstance(result, float, "–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π")
        self.assertGreater(result, 0, "–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º")
        
        print("‚úì –¢–µ—Å—Ç –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ")
    
    def test_data_consistency(self):
        """
        –¢–µ—Å—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏–º–µ—é—Ç —Ä–∞–∑—É–º–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏
        —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
        
        –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤–∞–∂–Ω–∞ –¥–ª—è:
        - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
        - –£–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è –≤—ã–±–æ—Ä–∞)
        - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞ (—Ä–∞–∑—É–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
        
        –ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
        - –†–∞–∑—É–º–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç
        - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π
        - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
        """
        # –ü–†–û–í–ï–†–ö–ê 1: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö
        crypto_count = len(cryptocurrencies)
        
        # –ú–∏–Ω–∏–º—É–º: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        self.assertGreaterEqual(crypto_count, 10, 
                               "–î–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º 10 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç–∏")
        
        # –ú–∞–∫—Å–∏–º—É–º: –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.assertLessEqual(crypto_count, 100, 
                            "–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª–µ–µ 100 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—ã–±–æ—Ä–∞")
        
        # –ü–†–û–í–ï–†–ö–ê 2: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç –≤ —Ä–∞–∑—É–º–Ω—ã—Ö –ø—Ä–µ–¥–µ–ª–∞—Ö
        fiat_count = len(fiat_currencies)
        
        # –ú–∏–Ω–∏–º—É–º: –æ—Å–Ω–æ–≤–Ω—ã–µ –º–∏—Ä–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã
        self.assertGreaterEqual(fiat_count, 10, 
                               "–î–æ–ª–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –º–∏–Ω–∏–º—É–º 10 —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç")
        
        # –ú–∞–∫—Å–∏–º—É–º: –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        self.assertLessEqual(fiat_count, 50, 
                            "–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª–µ–µ 50 —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç")
        
        # –ü–†–û–í–ï–†–ö–ê 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–µ–π
        crypto_keys = list(cryptocurrencies.keys())
        unique_crypto_keys = set(crypto_keys)
        self.assertEqual(len(crypto_keys), len(unique_crypto_keys), 
                        "–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–µ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç")
        
        fiat_keys = list(fiat_currencies.keys())
        unique_fiat_keys = set(fiat_keys)
        self.assertEqual(len(fiat_keys), len(unique_fiat_keys), 
                        "–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∫–ª—é—á–µ–π —Ñ–∏–∞—Ç–Ω—ã—Ö –≤–∞–ª—é—Ç")
        
        # –ü–†–û–í–ï–†–ö–ê 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –º–µ–∂–¥—É –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ –∏ —Ñ–∏–∞—Ç–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏
        crypto_keys_set = set(cryptocurrencies.keys())
        fiat_keys_set = set(fiat_currencies.keys())
        intersection = crypto_keys_set.intersection(fiat_keys_set)
        
        self.assertEqual(len(intersection), 0, 
                        f"–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ –≤–∞–ª—é—Ç: {intersection}")
        
        # –ü–†–û–í–ï–†–ö–ê 5: –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–ø—É—Å—Ç—ã–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
        for key, value in cryptocurrencies.items():
            self.assertIsInstance(key, str, f"–ö–ª—é—á {key} –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π")
            self.assertIsInstance(value, str, f"–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è {key} –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π")
            self.assertGreater(len(key.strip()), 0, f"–ö–ª—é—á {key} –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
            self.assertGreater(len(value.strip()), 0, f"–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è {key} –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
        
        for key, value in fiat_currencies.items():
            self.assertIsInstance(key, str, f"–ö–ª—é—á {key} –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π")
            self.assertIsInstance(value, str, f"–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è {key} –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π")
            self.assertGreater(len(key.strip()), 0, f"–ö–ª—é—á {key} –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
            self.assertGreater(len(value.strip()), 0, f"–ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è {key} –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
        
        print("‚úì –¢–µ—Å—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ")


def run_integration_tests():
    """
    –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ—Ç—á–µ—Ç–æ–º
    
    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏,
    –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç unit-—Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
    
    –í—ã–ø–æ–ª–Ω—è–µ—Ç:
    1. –ó–∞–≥—Ä—É–∑–∫—É –≤—Å–µ—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏–∑ –∫–ª–∞—Å—Å–∞ TestIntegration
    2. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
    3. –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
    4. –í—ã–≤–æ–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
    
    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã –¥–ª—è:
    - –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    - –í–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
    - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
    """
    print("=" * 60)
    print("–ó–ê–ü–£–°–ö –ò–ù–¢–ï–ì–†–ê–¶–ò–û–ù–ù–´–• –¢–ï–°–¢–û–í –ö–û–ù–í–ï–†–¢–ï–†–ê –ö–†–ò–ü–¢–û–í–ê–õ–Æ–¢")
    print("=" * 60)
    
    # –°–æ–∑–¥–∞–µ–º –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
    # TestLoader –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å 'test_'
    suite = unittest.TestLoader().loadTestsFromTestCase(TestIntegration)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞
    # –ü–æ–¥–∞–≤–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ unittest –¥–ª—è –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    runner = unittest.TextTestRunner(verbosity=0, stream=open(os.devnull, 'w'))
    result = runner.run(suite)
    
    # –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∫—Ä–∞—Å–∏–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
    print("\n" + "=" * 60)
    print("–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–ù–¢–ï–ì–†–ê–¶–ò–û–ù–ù–û–ì–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø")
    print("=" * 60)
    
    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    if result.wasSuccessful():
        print(f"‚úÖ –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!")
        print(f"üìä –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤: {result.testsRun}")
        print("‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!")
        print("üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ")
    else:
        # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
        total_errors = len(result.failures + result.errors)
        print(f"‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã –≤ {total_errors} –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö")
        print(f"üìä –£—Å–ø–µ—à–Ω–æ: {result.testsRun - total_errors}, –ù–µ—É–¥–∞—á–Ω–æ: {total_errors}")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
        if result.failures:
            print("\nüîç –î–ï–¢–ê–õ–ò –ù–ï–£–î–ê–ß–ù–´–• –¢–ï–°–¢–û–í:")
            for test, traceback in result.failures:
                print(f"‚ùå {test}: {traceback}")
        
        if result.errors:
            print("\n‚ö†Ô∏è –û–®–ò–ë–ö–ò –í–´–ü–û–õ–ù–ï–ù–ò–Ø:")
            for test, traceback in result.errors:
                print(f"üí• {test}: {traceback}")
    
    print("=" * 60)


# –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é
if __name__ == "__main__":
    # –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, –µ—Å–ª–∏ —Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
    # (–∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –º–æ–¥—É–ª—å)
    run_integration_tests()